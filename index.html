
<!doctype html>

<html lang="en">
	<head>
	  <meta charset="utf-8">

		<title>Project VariChill</title>
	 
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.js" type="text/javascript"></script>
		<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,600" rel="stylesheet"> 
		<link rel="stylesheet" href="styles.css">

	  <!--[if lt IE 9]>
	    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
	  <![endif]-->
	</head>

	<body>
		<div style="margin-left:15px;padding:15px">
			<h1 class="title"><span style="color: #449ed8">Vari</span><span style="color: #0f466a">Chill</span> <img src="https://image.ibb.co/hN0TAa/logo.png" width=35></h1>
			<h2 id="team">Team 16</h2>
			
			<p id="names">Dane Walton&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp|&nbsp&nbspJulian Mickelson
				</br>
				Leandro Grigera&nbsp&nbsp|&nbsp&nbspJohn Masson
			</p>
			
			<script>
			
			var x = false;

			$(document).ready(function() {
				$('#chill').val('CHILLING OUT');
			});
			
			$(document).ready(function() {
				$('#blinkButton')
			});
			
			</script>

			</br>
			<h2 style="font-family:montserrat;font-weight:600;font-size:30px">VariChill Monitoring Funtions</h2>
			<button class="button" id='blinkButton' type='button' onclick="plugFunc()">PLUG HER UP</button>
			<button class="button" id='blinkButton' type='button' onclick="chillFunc()">CHILL OUT</button>
			<button class="button" id='blinkButton' type='button' onclick="toggleLED()">Blink</button>
			</br>
			</br>
			<p id="names">Is she plugged?  <span id="plugBool"></span></p>
			<p id="names">Toggled the LED <span id="countNum" style="font-size:40px"></span> times</p>
			
			<script>
				var accessToken = "124dab5e9d90650a3fee6f14e66452c1782be720";
				var VariChillV2 = "32002a000851353531343431";
				var testChillID =  "43002a001347333438373338";
				
				var plug = "Plug";
				var chill = "Chill";
				var toggle = "blink";
				var binary;
				function plugFunc() {
					var requestUrl = "https://api.spark.io/v1/devices/" + VariChillV2 + "/" + plug + "/";
					$.post(requestUrl, {access_token: accessToken});
				}
				function chillFunc() {
					var requestUrl = "https://api.spark.io/v1/devices/" + VariChillV2 + "/" + chill + "/";
					$.post(requestUrl, {access_token: accessToken});
				}
				function toggleLED() {
					var requestUrl = "https://api.spark.io/v1/devices/" + testChillID + "/" + toggle + "/";
					$.post(requestUrl, {access_token: accessToken});
				}
				
				
				window.setInterval(function() {
					requestUrl = "https://api.spark.io/v1/devices/" + testChillID + "/counter/?access_token=" + accessToken;
					$.getJSON(requestUrl, function(json) {
						document.getElementById("countNum").innerHTML = json.result;
					});
				
				}, 500);
				
				window.setInterval(function() {
					requestUrl = "https://api.spark.io/v1/devices/" + testChillID + "/bool/?access_token=" + accessToken;
					$.getJSON(requestUrl, function(json) {
						binary = parseInt(json.result);
						onOff();
					});
				
				}, 500);
				
				function onOff() {
					if (binary == 1) {
						document.getElementById("plugBool").innerHTML = "Turned On";
					} else {
						document.getElementById("plugBool").innerHTML = "Turned Off";
					}
				}
				
				
			</script>

			
		  <script src="js/scripts.js"></script>
		 </div>
	</body>
</html>